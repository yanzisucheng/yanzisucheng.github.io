(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{770:function(_,e,t){"use strict";t.r(e);var v=t(4),a=Object(v.a)({},(function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"一、概括"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、概括"}},[_._v("#")]),_._v(" 一、概括")]),_._v(" "),t("blockquote",[t("p",[_._v("本文主要聊聊浏览器是怎样确定每一个元素的位置的")])]),_._v(" "),t("h2",{attrs:{id:"二、基本概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、基本概念"}},[_._v("#")]),_._v(" 二、基本概念")]),_._v(" "),t("h3",{attrs:{id:"_2-1、排版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、排版"}},[_._v("#")]),_._v(" 2.1、排版")]),_._v(" "),t("blockquote",[t("p",[_._v("浏览器把排版的内容（文字、图片、图形、表格等等）确定它们位置的过程，叫作"),t("code",[_._v("排版")]),_._v("。浏览器最基本的排版方案是"),t("code",[_._v("正常流排版")]),_._v("。")])]),_._v(" "),t("h3",{attrs:{id:"_2-2、盒模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、盒模型"}},[_._v("#")]),_._v(" 2.2、盒模型")]),_._v(" "),t("blockquote",[t("p",[_._v("浏览器又可以支持元素和文字的混排（元素被定义为占据长方形的区域），还允许边框、边距和留白，这个就是所谓的"),t("code",[_._v("盒模型")]),_._v("。")])]),_._v(" "),t("h4",{attrs:{id:"_2-2-1、绝对定位元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1、绝对定位元素"}},[_._v("#")]),_._v(" 2.2.1、绝对定位元素")]),_._v(" "),t("blockquote",[t("p",[_._v("绝对定位元素把自身从正常流抽出，直接由 "),t("code",[_._v("top")]),_._v(" 和 "),t("code",[_._v("left")]),_._v(" 等属性确定自身的位置，不参加排版计算，也不影响其它元素。完全跟正常流无关的一种独立排版模式。")])]),_._v(" "),t("h4",{attrs:{id:"_2-2-2、浮动元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2、浮动元素"}},[_._v("#")]),_._v(" 2.2.2、浮动元素")]),_._v(" "),t("blockquote",[t("p",[_._v("浮动元素则是使得自己在正常流的位置向左或者向右移动到边界，并且占据一块排版空间。 "),t("code",[_._v("float")]),_._v(" 元素非常特别，浏览器对 "),t("code",[_._v("float")]),_._v(" 的处理是先排入正常流，再移动到排版宽度的最左 / 最右（主轴的最前和最后）。")])]),_._v(" "),t("h2",{attrs:{id:"三、正常流文字排版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、正常流文字排版"}},[_._v("#")]),_._v(" 三、正常流文字排版")]),_._v(" "),t("h3",{attrs:{id:"_3-1、字体解析库（freetype）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、字体解析库（freetype）"}},[_._v("#")]),_._v(" 3.1、字体解析库（freetype）")]),_._v(" "),t("p",[_._v("来自"),t("code",[_._v("freetype")]),_._v("的两张图片关于获取某个特定的文字相关信息：")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://static001.geekbang.org/resource/image/06/01/0619d38f00d539f7b6773e541ce6fa01.png",alt:"freetype图一"}})]),_._v(" "),t("p",[_._v("纵向版本：")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://static001.geekbang.org/resource/image/c3/96/c361c7ff3a11216c139ed462b9d5f196.png",alt:"freetype图二"}})]),_._v(" "),t("p",[t("code",[_._v("advance")]),_._v("：每一个文字排布后在主轴上的前进距离。")]),_._v(" "),t("h3",{attrs:{id:"_3-2、css属性影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、css属性影响"}},[_._v("#")]),_._v(" 3.2、css属性影响")]),_._v(" "),t("blockquote",[t("p",[_._v("除了字体提供的字形本身包含的信息，文字排版还受到一些 "),t("code",[_._v("CSS")]),_._v(" 属性影响，如 "),t("code",[_._v("line-height、letter-spacing、word-spacing")]),_._v(" 等。"),t("code",[_._v("display")]),_._v(" 值为 "),t("code",[_._v("inline")]),_._v(" 的元素中的文字排版时会被直接排入文字流中，"),t("code",[_._v("inline")]),_._v(" 元素主轴方向的 "),t("code",[_._v("margin")]),_._v(" 属性和 "),t("code",[_._v("border")]),_._v(" 属性也会被计算进排版前进距离当中。")])]),_._v(" "),t("p",[_._v("即使没有元素包裹，混合书写方向的文字也可以形成一个盒结构，在排版时，遇到这样的"),t("code",[_._v("双向文字盒")]),_._v("，会先排完盒内再排盒外。")]),_._v(" "),t("h2",{attrs:{id:"四、正常流中的盒"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、正常流中的盒"}},[_._v("#")]),_._v(" 四、正常流中的盒")]),_._v(" "),t("ul",[t("li",[_._v("多数 "),t("code",[_._v("display")]),_._v(" 属性都可以分成两部分：内部的排版和是否 "),t("code",[_._v("inline")]),_._v("，带有 "),t("code",[_._v("inline-")]),_._v(" 前缀的盒，被称作"),t("code",[_._v("行内级盒")]),_._v("。")]),_._v(" "),t("li",[t("code",[_._v("vertical-align")]),_._v(" 属性决定了盒在交叉轴方向的位置，也会影响实际行高。")]),_._v(" "),t("li",[_._v("浏览器对行的排版，一般是先行内布局，再确定行的位置，根据行的位置计算出行内盒和文字的排版位置。")]),_._v(" "),t("li",[_._v("块级盒比较简单，它总是单独占据一整行，计算出交叉轴方向的高度即可。")])]),_._v(" "),t("h2",{attrs:{id:"五、其他排版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、其他排版"}},[_._v("#")]),_._v(" 五、其他排版")]),_._v(" "),t("blockquote",[t("p",[_._v("比如: "),t("code",[_._v("flex")]),_._v(" 排版，支持了 "),t("code",[_._v("flex")]),_._v(" 属性，"),t("code",[_._v("flex")]),_._v(" 属性将每一行排版后的剩余空间平均分配给主轴方向的 "),t("code",[_._v("width/height")]),_._v(" 属性。")])]),_._v(" "),t("p",[_._v("浏览器支持的每一种排版方式，都是按照对应的标准来实现的。")])])}),[],!1,null,null,null);e.default=a.exports}}]);